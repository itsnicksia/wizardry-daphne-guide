import { useState } from 'react';

/**
 * Full Alteration Stone blessing value distribution component.
 *
 * Data source: https://wizardry.info/daphne/gacha_rates/ja/alternations.html
 *
 * Shows blessing value probability distributions when using Full Alteration Stones
 * on Grade 2+ equipment. Two stone types are available:
 * - Lesser (下級全変造石): Standard value ranges
 * - Full (全変造石): Boosted value ranges (values start higher)
 *
 * Equipment is categorized by rank:
 * - Rank 1-5: Worn through Ebonsteel equipment
 * - Rank 6 Two-Handed: Silver-tier two-handed weapons (greatswords, two-handed spears, two-handed axes, two-handed maces)
 * - Rank 6 Other: All other Silver-tier equipment
 *
 * Note: Alteration stone tables have 19 stats: 9 percentage stats + 10 fixed stats
 * (including ASPD flat and SUR).
 *
 * IMPORTANT: Probabilities are NOT uniform within value ranges. Edge values typically
 * have lower probabilities than middle values (weighted/bell-curve distribution).
 */

type StoneType = 'lesser' | 'full';
type EquipmentRankCategory = 'rank1to5' | 'rank6TwoHanded' | 'rank6Other';

interface RankCategoryOption {
    id: EquipmentRankCategory;
    label: string;
    description: string;
}

const RANK_CATEGORIES: RankCategoryOption[] = [
    { id: 'rank1to5', label: 'Worn - Ebonsteel', description: 'Equipment Ranks 1-5' },
    { id: 'rank6TwoHanded', label: 'Silver (Two-Handed Weapons)', description: 'Greatswords, Two-Handed Spears, Two-Handed Axes, Two-Handed Maces' },
    { id: 'rank6Other', label: 'Silver', description: 'All other Silver equipment' },
];

interface StatDefinition {
    id: string;
    label: string;
}

// 19 stats available via alteration stones
const STATS: StatDefinition[] = [
    { id: 'ATK%', label: 'ATK%' },
    { id: 'MAG%', label: 'MAG%' },
    { id: 'DIV%', label: 'DIV%' },
    { id: 'ACC%', label: 'ACC%' },
    { id: 'EVA%', label: 'EVA%' },
    { id: 'RES%', label: 'RES%' },
    { id: 'DEF%', label: 'DEF%' },
    { id: 'MDEF%', label: 'MDEF%' },
    { id: 'ASPD%', label: 'ASPD%' },
    { id: 'ATK', label: 'ATK' },
    { id: 'MAG', label: 'MAG' },
    { id: 'DIV', label: 'DIV' },
    { id: 'ACC', label: 'ACC' },
    { id: 'EVA', label: 'EVA' },
    { id: 'RES', label: 'RES' },
    { id: 'DEF', label: 'DEF' },
    { id: 'MDEF', label: 'MDEF' },
    { id: 'ASPD', label: 'ASPD' },
    { id: 'SUR', label: 'SUR' },
];

type Quality = 1 | 2 | 3 | 4 | 5;

interface ValueRange {
    start: number;
    probabilities: number[];
}

type MagnitudeData = Record<Quality, Record<string, ValueRange>>;

const LESSER_RANK_1_TO_5: MagnitudeData = {
    1: {
        'ATK%': { start: 2, probabilities: [33.3333, 33.3333, 33.3333] },
        'MAG%': { start: 2, probabilities: [33.3333, 33.3333, 33.3333] },
        'DIV%': { start: 2, probabilities: [33.3333, 33.3333, 33.3333] },
        'ACC%': { start: 2, probabilities: [33.3333, 33.3333, 33.3333] },
        'EVA%': { start: 2, probabilities: [33.3333, 33.3333, 33.3333] },
        'RES%': { start: 2, probabilities: [33.3333, 33.3333, 33.3333] },
        'DEF%': { start: 2, probabilities: [33.3333, 33.3333, 33.3333] },
        'MDEF%': { start: 2, probabilities: [33.3333, 33.3333, 33.3333] },
        'ASPD%': { start: 2, probabilities: [50.0, 50.0] },
        'ATK': { start: 3, probabilities: [25.0, 50.0, 25.0] },
        'MAG': { start: 3, probabilities: [25.0, 50.0, 25.0] },
        'DIV': { start: 3, probabilities: [25.0, 50.0, 25.0] },
        'ACC': { start: 3, probabilities: [25.0, 50.0, 25.0] },
        'EVA': { start: 3, probabilities: [25.0, 50.0, 25.0] },
        'RES': { start: 3, probabilities: [25.0, 50.0, 25.0] },
        'DEF': { start: 3, probabilities: [25.0, 50.0, 25.0] },
        'MDEF': { start: 3, probabilities: [25.0, 50.0, 25.0] },
        'ASPD': { start: 2, probabilities: [25.0, 50.0, 25.0] },
        'SUR': { start: 2, probabilities: [50.0, 50.0] },
    },
    2: {
        'ATK%': { start: 4, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'MAG%': { start: 4, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'DIV%': { start: 4, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'ACC%': { start: 4, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'EVA%': { start: 4, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'RES%': { start: 4, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'DEF%': { start: 4, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'MDEF%': { start: 4, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'ASPD%': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'ATK': { start: 5, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
        'MAG': { start: 5, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
        'DIV': { start: 5, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
        'ACC': { start: 5, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
        'EVA': { start: 5, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
        'RES': { start: 5, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
        'DEF': { start: 5, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
        'MDEF': { start: 5, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
        'ASPD': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'SUR': { start: 3, probabilities: [25.0, 50.0, 25.0] },
    },
    3: {
        'ATK%': { start: 7, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'MAG%': { start: 7, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'DIV%': { start: 7, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'ACC%': { start: 7, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'EVA%': { start: 7, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'RES%': { start: 7, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'DEF%': { start: 7, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'MDEF%': { start: 7, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'ASPD%': { start: 6, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'ATK': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'MAG': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'DIV': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'ACC': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'EVA': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'RES': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'DEF': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'MDEF': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'ASPD': { start: 5, probabilities: [11.1111, 22.2222, 33.3333, 22.2222, 11.1111] },
        'SUR': { start: 4, probabilities: [25.0, 50.0, 25.0] },
    },
    4: {
        'ATK%': { start: 12, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'MAG%': { start: 12, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'DIV%': { start: 12, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'ACC%': { start: 12, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'EVA%': { start: 12, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'RES%': { start: 12, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'DEF%': { start: 12, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'MDEF%': { start: 12, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'ASPD%': { start: 9, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'ATK': { start: 11, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'MAG': { start: 11, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'DIV': { start: 11, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'ACC': { start: 11, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'EVA': { start: 11, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'RES': { start: 11, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'DEF': { start: 11, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'MDEF': { start: 11, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'ASPD': { start: 7, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
        'SUR': { start: 5, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
    },
    5: {
        'ATK%': { start: 15, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'MAG%': { start: 15, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'DIV%': { start: 15, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'ACC%': { start: 15, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'EVA%': { start: 15, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'RES%': { start: 15, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'DEF%': { start: 15, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'MDEF%': { start: 15, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'ASPD%': { start: 12, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'ATK': { start: 14, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'MAG': { start: 14, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'DIV': { start: 14, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'ACC': { start: 14, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'EVA': { start: 14, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'RES': { start: 14, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'DEF': { start: 14, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'MDEF': { start: 14, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'ASPD': { start: 9, probabilities: [6.6667, 13.3333, 20.0, 20.0, 20.0, 13.3333, 6.6667] },
        'SUR': { start: 6, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
    },
};

const LESSER_RANK_6_TWO_HANDED: MagnitudeData = {
    1: {
        'ATK%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'MAG%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'DIV%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'ACC%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'EVA%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'RES%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'DEF%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'MDEF%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'ASPD%': { start: 2, probabilities: [50.0, 50.0] },
        'ATK': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'MAG': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'DIV': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'ACC': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'EVA': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'RES': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'DEF': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'MDEF': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'ASPD': { start: 2, probabilities: [25.0, 50.0, 25.0] },
        'SUR': { start: 2, probabilities: [50.0, 50.0] },
    },
    2: {
        'ATK%': { start: 4, probabilities: [8.3333, 16.6667, 16.6667, 16.6667, 16.6667, 16.6667, 8.3333] },
        'MAG%': { start: 4, probabilities: [8.3333, 16.6667, 16.6667, 16.6667, 16.6667, 16.6667, 8.3333] },
        'DIV%': { start: 4, probabilities: [8.3333, 16.6667, 16.6667, 16.6667, 16.6667, 16.6667, 8.3333] },
        'ACC%': { start: 4, probabilities: [8.3333, 16.6667, 16.6667, 16.6667, 16.6667, 16.6667, 8.3333] },
        'EVA%': { start: 4, probabilities: [8.3333, 16.6667, 16.6667, 16.6667, 16.6667, 16.6667, 8.3333] },
        'RES%': { start: 4, probabilities: [8.3333, 16.6667, 16.6667, 16.6667, 16.6667, 16.6667, 8.3333] },
        'DEF%': { start: 4, probabilities: [8.3333, 16.6667, 16.6667, 16.6667, 16.6667, 16.6667, 8.3333] },
        'MDEF%': { start: 4, probabilities: [8.3333, 16.6667, 16.6667, 16.6667, 16.6667, 16.6667, 8.3333] },
        'ASPD%': { start: 3, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'ATK': { start: 5, probabilities: [3.3333, 6.6667, 10.0, 13.3333, 16.6667, 16.6667, 13.3333, 10.0, 6.6667, 3.3333] },
        'MAG': { start: 5, probabilities: [3.3333, 6.6667, 10.0, 13.3333, 16.6667, 16.6667, 13.3333, 10.0, 6.6667, 3.3333] },
        'DIV': { start: 5, probabilities: [3.3333, 6.6667, 10.0, 13.3333, 16.6667, 16.6667, 13.3333, 10.0, 6.6667, 3.3333] },
        'ACC': { start: 5, probabilities: [3.3333, 6.6667, 10.0, 13.3333, 16.6667, 16.6667, 13.3333, 10.0, 6.6667, 3.3333] },
        'EVA': { start: 5, probabilities: [3.3333, 6.6667, 10.0, 13.3333, 16.6667, 16.6667, 13.3333, 10.0, 6.6667, 3.3333] },
        'RES': { start: 5, probabilities: [3.3333, 6.6667, 10.0, 13.3333, 16.6667, 16.6667, 13.3333, 10.0, 6.6667, 3.3333] },
        'DEF': { start: 5, probabilities: [3.3333, 6.6667, 10.0, 13.3333, 16.6667, 16.6667, 13.3333, 10.0, 6.6667, 3.3333] },
        'MDEF': { start: 5, probabilities: [3.3333, 6.6667, 10.0, 13.3333, 16.6667, 16.6667, 13.3333, 10.0, 6.6667, 3.3333] },
        'ASPD': { start: 3, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'SUR': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
    },
    3: {
        'ATK%': { start: 7, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'MAG%': { start: 7, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'DIV%': { start: 7, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'ACC%': { start: 7, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'EVA%': { start: 7, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'RES%': { start: 7, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'DEF%': { start: 7, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'MDEF%': { start: 7, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'ASPD%': { start: 6, probabilities: [6.6667, 13.3333, 20.0, 20.0, 20.0, 13.3333, 6.6667] },
        'ATK': { start: 7, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'MAG': { start: 7, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'DIV': { start: 7, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'ACC': { start: 7, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'EVA': { start: 7, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'RES': { start: 7, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'DEF': { start: 7, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'MDEF': { start: 7, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'ASPD': { start: 5, probabilities: [5.0, 10.0, 15.0, 20.0, 20.0, 15.0, 10.0, 5.0] },
        'SUR': { start: 4, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
    },
    4: {
        'ATK%': { start: 12, probabilities: [5.5556, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 5.5556] },
        'MAG%': { start: 12, probabilities: [5.5556, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 5.5556] },
        'DIV%': { start: 12, probabilities: [5.5556, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 5.5556] },
        'ACC%': { start: 12, probabilities: [5.5556, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 5.5556] },
        'EVA%': { start: 12, probabilities: [5.5556, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 5.5556] },
        'RES%': { start: 12, probabilities: [5.5556, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 5.5556] },
        'DEF%': { start: 12, probabilities: [5.5556, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 5.5556] },
        'MDEF%': { start: 12, probabilities: [5.5556, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 5.5556] },
        'ASPD%': { start: 9, probabilities: [7.1429, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 7.1429] },
        'ATK': { start: 11, probabilities: [1.5152, 3.0303, 4.5455, 6.0606, 7.5758, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 7.5758, 6.0606, 4.5455, 3.0303, 1.5152] },
        'MAG': { start: 11, probabilities: [1.5152, 3.0303, 4.5455, 6.0606, 7.5758, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 7.5758, 6.0606, 4.5455, 3.0303, 1.5152] },
        'DIV': { start: 11, probabilities: [1.5152, 3.0303, 4.5455, 6.0606, 7.5758, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 7.5758, 6.0606, 4.5455, 3.0303, 1.5152] },
        'ACC': { start: 11, probabilities: [1.5152, 3.0303, 4.5455, 6.0606, 7.5758, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 7.5758, 6.0606, 4.5455, 3.0303, 1.5152] },
        'EVA': { start: 11, probabilities: [1.5152, 3.0303, 4.5455, 6.0606, 7.5758, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 7.5758, 6.0606, 4.5455, 3.0303, 1.5152] },
        'RES': { start: 11, probabilities: [1.5152, 3.0303, 4.5455, 6.0606, 7.5758, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 7.5758, 6.0606, 4.5455, 3.0303, 1.5152] },
        'DEF': { start: 11, probabilities: [1.5152, 3.0303, 4.5455, 6.0606, 7.5758, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 7.5758, 6.0606, 4.5455, 3.0303, 1.5152] },
        'MDEF': { start: 11, probabilities: [1.5152, 3.0303, 4.5455, 6.0606, 7.5758, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 9.0909, 7.5758, 6.0606, 4.5455, 3.0303, 1.5152] },
        'ASPD': { start: 7, probabilities: [3.3333, 6.6667, 10.0, 13.3333, 16.6667, 16.6667, 13.3333, 10.0, 6.6667, 3.3333] },
        'SUR': { start: 5, probabilities: [6.25, 12.5, 18.75, 25.0, 18.75, 12.5, 6.25] },
    },
    5: {
        'ATK%': { start: 15, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'MAG%': { start: 15, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'DIV%': { start: 15, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'ACC%': { start: 15, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'EVA%': { start: 15, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'RES%': { start: 15, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'DEF%': { start: 15, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'MDEF%': { start: 15, probabilities: [3.3333, 6.6667, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 6.6667, 3.3333] },
        'ASPD%': { start: 12, probabilities: [5.5556, 11.1111, 16.6667, 16.6667, 16.6667, 16.6667, 11.1111, 5.5556] },
        'ATK': { start: 14, probabilities: [1.0989, 2.1978, 3.2967, 4.3956, 5.4945, 6.5934, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 6.5934, 5.4945, 4.3956, 3.2967, 2.1978, 1.0989] },
        'MAG': { start: 14, probabilities: [1.0989, 2.1978, 3.2967, 4.3956, 5.4945, 6.5934, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 6.5934, 5.4945, 4.3956, 3.2967, 2.1978, 1.0989] },
        'DIV': { start: 14, probabilities: [1.0989, 2.1978, 3.2967, 4.3956, 5.4945, 6.5934, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 6.5934, 5.4945, 4.3956, 3.2967, 2.1978, 1.0989] },
        'ACC': { start: 14, probabilities: [1.0989, 2.1978, 3.2967, 4.3956, 5.4945, 6.5934, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 6.5934, 5.4945, 4.3956, 3.2967, 2.1978, 1.0989] },
        'EVA': { start: 14, probabilities: [1.0989, 2.1978, 3.2967, 4.3956, 5.4945, 6.5934, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 6.5934, 5.4945, 4.3956, 3.2967, 2.1978, 1.0989] },
        'RES': { start: 14, probabilities: [1.0989, 2.1978, 3.2967, 4.3956, 5.4945, 6.5934, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 6.5934, 5.4945, 4.3956, 3.2967, 2.1978, 1.0989] },
        'DEF': { start: 14, probabilities: [1.0989, 2.1978, 3.2967, 4.3956, 5.4945, 6.5934, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 6.5934, 5.4945, 4.3956, 3.2967, 2.1978, 1.0989] },
        'MDEF': { start: 14, probabilities: [1.0989, 2.1978, 3.2967, 4.3956, 5.4945, 6.5934, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 7.6923, 6.5934, 5.4945, 4.3956, 3.2967, 2.1978, 1.0989] },
        'ASPD': { start: 9, probabilities: [2.381, 4.7619, 7.1429, 9.5238, 11.9048, 14.2857, 14.2857, 11.9048, 9.5238, 7.1429, 4.7619, 2.381] },
        'SUR': { start: 6, probabilities: [5.0, 10.0, 15.0, 20.0, 20.0, 15.0, 10.0, 5.0] },
    },
};

const LESSER_RANK_6_OTHER: MagnitudeData = {
    1: {
        'ATK%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'MAG%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'DIV%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'ACC%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'EVA%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'RES%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'DEF%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'MDEF%': { start: 2, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'ASPD%': { start: 2, probabilities: [50.0, 50.0] },
        'ATK': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'MAG': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'DIV': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'ACC': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'EVA': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'RES': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'DEF': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'MDEF': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
        'ASPD': { start: 2, probabilities: [25.0, 50.0, 25.0] },
        'SUR': { start: 2, probabilities: [50.0, 50.0] },
    },
    2: {
        'ATK%': { start: 4, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'MAG%': { start: 4, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'DIV%': { start: 4, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'ACC%': { start: 4, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'EVA%': { start: 4, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'RES%': { start: 4, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'DEF%': { start: 4, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'MDEF%': { start: 4, probabilities: [10.0, 20.0, 20.0, 20.0, 20.0, 10.0] },
        'ASPD%': { start: 3, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'ATK': { start: 5, probabilities: [5.0, 10.0, 15.0, 20.0, 20.0, 15.0, 10.0, 5.0] },
        'MAG': { start: 5, probabilities: [5.0, 10.0, 15.0, 20.0, 20.0, 15.0, 10.0, 5.0] },
        'DIV': { start: 5, probabilities: [5.0, 10.0, 15.0, 20.0, 20.0, 15.0, 10.0, 5.0] },
        'ACC': { start: 5, probabilities: [5.0, 10.0, 15.0, 20.0, 20.0, 15.0, 10.0, 5.0] },
        'EVA': { start: 5, probabilities: [5.0, 10.0, 15.0, 20.0, 20.0, 15.0, 10.0, 5.0] },
        'RES': { start: 5, probabilities: [5.0, 10.0, 15.0, 20.0, 20.0, 15.0, 10.0, 5.0] },
        'DEF': { start: 5, probabilities: [5.0, 10.0, 15.0, 20.0, 20.0, 15.0, 10.0, 5.0] },
        'MDEF': { start: 5, probabilities: [5.0, 10.0, 15.0, 20.0, 20.0, 15.0, 10.0, 5.0] },
        'ASPD': { start: 3, probabilities: [12.5, 25.0, 25.0, 25.0, 12.5] },
        'SUR': { start: 3, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
    },
    3: {
        'ATK%': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'MAG%': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'DIV%': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'ACC%': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'EVA%': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'RES%': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'DEF%': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'MDEF%': { start: 7, probabilities: [4.7619, 9.5238, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 9.5238, 4.7619] },
        'ASPD%': { start: 6, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
        'ATK': { start: 7, probabilities: [2.7778, 5.5556, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 5.5556, 2.7778] },
        'MAG': { start: 7, probabilities: [2.7778, 5.5556, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 5.5556, 2.7778] },
        'DIV': { start: 7, probabilities: [2.7778, 5.5556, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 5.5556, 2.7778] },
        'ACC': { start: 7, probabilities: [2.7778, 5.5556, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 5.5556, 2.7778] },
        'EVA': { start: 7, probabilities: [2.7778, 5.5556, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 5.5556, 2.7778] },
        'RES': { start: 7, probabilities: [2.7778, 5.5556, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 5.5556, 2.7778] },
        'DEF': { start: 7, probabilities: [2.7778, 5.5556, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 5.5556, 2.7778] },
        'MDEF': { start: 7, probabilities: [2.7778, 5.5556, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 5.5556, 2.7778] },
        'ASPD': { start: 5, probabilities: [6.25, 12.5, 18.75, 25.0, 18.75, 12.5, 6.25] },
        'SUR': { start: 4, probabilities: [16.6667, 33.3333, 33.3333, 16.6667] },
    },
    4: {
        'ATK%': { start: 12, probabilities: [6.25, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 6.25] },
        'MAG%': { start: 12, probabilities: [6.25, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 6.25] },
        'DIV%': { start: 12, probabilities: [6.25, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 6.25] },
        'ACC%': { start: 12, probabilities: [6.25, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 6.25] },
        'EVA%': { start: 12, probabilities: [6.25, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 6.25] },
        'RES%': { start: 12, probabilities: [6.25, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 6.25] },
        'DEF%': { start: 12, probabilities: [6.25, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 6.25] },
        'MDEF%': { start: 12, probabilities: [6.25, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 6.25] },
        'ASPD%': { start: 9, probabilities: [8.3333, 16.6667, 16.6667, 16.6667, 16.6667, 16.6667, 8.3333] },
        'ATK': { start: 11, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'MAG': { start: 11, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'DIV': { start: 11, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'ACC': { start: 11, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'EVA': { start: 11, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'RES': { start: 11, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'DEF': { start: 11, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'MDEF': { start: 11, probabilities: [2.0, 4.0, 6.0, 8.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.0, 6.0, 4.0, 2.0] },
        'ASPD': { start: 7, probabilities: [4.0, 8.0, 12.0, 16.0, 20.0, 16.0, 12.0, 8.0, 4.0] },
        'SUR': { start: 5, probabilities: [8.3333, 16.6667, 25.0, 25.0, 16.6667, 8.3333] },
    },
    5: {
        'ATK%': { start: 15, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'MAG%': { start: 15, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'DIV%': { start: 15, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'ACC%': { start: 15, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'EVA%': { start: 15, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'RES%': { start: 15, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'DEF%': { start: 15, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'MDEF%': { start: 15, probabilities: [4.1667, 8.3333, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 8.3333, 4.1667] },
        'ASPD%': { start: 12, probabilities: [6.6667, 13.3333, 20.0, 20.0, 20.0, 13.3333, 6.6667] },
        'ATK': { start: 14, probabilities: [1.3889, 2.7778, 4.1667, 5.5556, 6.9444, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 6.9444, 5.5556, 4.1667, 2.7778, 1.3889] },
        'MAG': { start: 14, probabilities: [1.3889, 2.7778, 4.1667, 5.5556, 6.9444, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 6.9444, 5.5556, 4.1667, 2.7778, 1.3889] },
        'DIV': { start: 14, probabilities: [1.3889, 2.7778, 4.1667, 5.5556, 6.9444, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 6.9444, 5.5556, 4.1667, 2.7778, 1.3889] },
        'ACC': { start: 14, probabilities: [1.3889, 2.7778, 4.1667, 5.5556, 6.9444, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 6.9444, 5.5556, 4.1667, 2.7778, 1.3889] },
        'EVA': { start: 14, probabilities: [1.3889, 2.7778, 4.1667, 5.5556, 6.9444, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 6.9444, 5.5556, 4.1667, 2.7778, 1.3889] },
        'RES': { start: 14, probabilities: [1.3889, 2.7778, 4.1667, 5.5556, 6.9444, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 6.9444, 5.5556, 4.1667, 2.7778, 1.3889] },
        'DEF': { start: 14, probabilities: [1.3889, 2.7778, 4.1667, 5.5556, 6.9444, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 6.9444, 5.5556, 4.1667, 2.7778, 1.3889] },
        'MDEF': { start: 14, probabilities: [1.3889, 2.7778, 4.1667, 5.5556, 6.9444, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 8.3333, 6.9444, 5.5556, 4.1667, 2.7778, 1.3889] },
        'ASPD': { start: 9, probabilities: [3.3333, 6.6667, 10.0, 13.3333, 16.6667, 16.6667, 13.3333, 10.0, 6.6667, 3.3333] },
        'SUR': { start: 6, probabilities: [6.6667, 13.3333, 20.0, 20.0, 20.0, 13.3333, 6.6667] },
    },
};

const FULL_RANK_1_TO_5: MagnitudeData = {
    1: {
        'ATK%': { start: 3, probabilities: [33.3333, 33.3333, 33.3333] },
        'MAG%': { start: 3, probabilities: [33.3333, 33.3333, 33.3333] },
        'DIV%': { start: 3, probabilities: [33.3333, 33.3333, 33.3333] },
        'ACC%': { start: 3, probabilities: [33.3333, 33.3333, 33.3333] },
        'EVA%': { start: 3, probabilities: [33.3333, 33.3333, 33.3333] },
        'RES%': { start: 3, probabilities: [33.3333, 33.3333, 33.3333] },
        'DEF%': { start: 3, probabilities: [33.3333, 33.3333, 33.3333] },
        'MDEF%': { start: 3, probabilities: [33.3333, 33.3333, 33.3333] },
        'ASPD%': { start: 3, probabilities: [50.0, 50.0] },
        'ATK': { start: 4, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'MAG': { start: 4, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'DIV': { start: 4, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'ACC': { start: 4, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'EVA': { start: 4, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'RES': { start: 4, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'DEF': { start: 4, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'MDEF': { start: 4, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'ASPD': { start: 3, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'SUR': { start: 3, probabilities: [50.0, 50.0] },
    },
    2: {
        'ATK%': { start: 5, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'MAG%': { start: 5, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'DIV%': { start: 5, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'ACC%': { start: 5, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'EVA%': { start: 5, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'RES%': { start: 5, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'DEF%': { start: 5, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'MDEF%': { start: 5, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'ASPD%': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'ATK': { start: 7, probabilities: [2.0833, 6.25, 12.5, 18.75, 20.8333, 18.75, 12.5, 6.25, 2.0833] },
        'MAG': { start: 7, probabilities: [2.0833, 6.25, 12.5, 18.75, 20.8333, 18.75, 12.5, 6.25, 2.0833] },
        'DIV': { start: 7, probabilities: [2.0833, 6.25, 12.5, 18.75, 20.8333, 18.75, 12.5, 6.25, 2.0833] },
        'ACC': { start: 7, probabilities: [2.0833, 6.25, 12.5, 18.75, 20.8333, 18.75, 12.5, 6.25, 2.0833] },
        'EVA': { start: 7, probabilities: [2.0833, 6.25, 12.5, 18.75, 20.8333, 18.75, 12.5, 6.25, 2.0833] },
        'RES': { start: 7, probabilities: [2.0833, 6.25, 12.5, 18.75, 20.8333, 18.75, 12.5, 6.25, 2.0833] },
        'DEF': { start: 7, probabilities: [2.0833, 6.25, 12.5, 18.75, 20.8333, 18.75, 12.5, 6.25, 2.0833] },
        'MDEF': { start: 7, probabilities: [2.0833, 6.25, 12.5, 18.75, 20.8333, 18.75, 12.5, 6.25, 2.0833] },
        'ASPD': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'SUR': { start: 4, probabilities: [12.5, 37.5, 37.5, 12.5] },
    },
    3: {
        'ATK%': { start: 9, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'MAG%': { start: 9, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'DIV%': { start: 9, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'ACC%': { start: 9, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'EVA%': { start: 9, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'RES%': { start: 9, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'DEF%': { start: 9, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'MDEF%': { start: 9, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'ASPD%': { start: 8, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'ATK': { start: 9, probabilities: [0.6803, 2.0408, 4.0816, 6.1224, 8.1633, 10.2041, 12.2449, 12.9252, 12.2449, 10.2041, 8.1633, 6.1224, 4.0816, 2.0408, 0.6803] },
        'MAG': { start: 9, probabilities: [0.6803, 2.0408, 4.0816, 6.1224, 8.1633, 10.2041, 12.2449, 12.9252, 12.2449, 10.2041, 8.1633, 6.1224, 4.0816, 2.0408, 0.6803] },
        'DIV': { start: 9, probabilities: [0.6803, 2.0408, 4.0816, 6.1224, 8.1633, 10.2041, 12.2449, 12.9252, 12.2449, 10.2041, 8.1633, 6.1224, 4.0816, 2.0408, 0.6803] },
        'ACC': { start: 9, probabilities: [0.6803, 2.0408, 4.0816, 6.1224, 8.1633, 10.2041, 12.2449, 12.9252, 12.2449, 10.2041, 8.1633, 6.1224, 4.0816, 2.0408, 0.6803] },
        'EVA': { start: 9, probabilities: [0.6803, 2.0408, 4.0816, 6.1224, 8.1633, 10.2041, 12.2449, 12.9252, 12.2449, 10.2041, 8.1633, 6.1224, 4.0816, 2.0408, 0.6803] },
        'RES': { start: 9, probabilities: [0.6803, 2.0408, 4.0816, 6.1224, 8.1633, 10.2041, 12.2449, 12.9252, 12.2449, 10.2041, 8.1633, 6.1224, 4.0816, 2.0408, 0.6803] },
        'DEF': { start: 9, probabilities: [0.6803, 2.0408, 4.0816, 6.1224, 8.1633, 10.2041, 12.2449, 12.9252, 12.2449, 10.2041, 8.1633, 6.1224, 4.0816, 2.0408, 0.6803] },
        'MDEF': { start: 9, probabilities: [0.6803, 2.0408, 4.0816, 6.1224, 8.1633, 10.2041, 12.2449, 12.9252, 12.2449, 10.2041, 8.1633, 6.1224, 4.0816, 2.0408, 0.6803] },
        'ASPD': { start: 6, probabilities: [3.7037, 11.1111, 22.2222, 25.9259, 22.2222, 11.1111, 3.7037] },
        'SUR': { start: 5, probabilities: [12.5, 37.5, 37.5, 12.5] },
    },
    4: {
        'ATK%': { start: 15, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'MAG%': { start: 15, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'DIV%': { start: 15, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'ACC%': { start: 15, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'EVA%': { start: 15, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'RES%': { start: 15, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'DEF%': { start: 15, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'MDEF%': { start: 15, probabilities: [20.0, 20.0, 20.0, 20.0, 20.0] },
        'ASPD%': { start: 12, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'ATK': { start: 14, probabilities: [0.5208, 1.5625, 3.125, 4.6875, 6.25, 7.8125, 9.375, 10.9375, 11.4583, 10.9375, 9.375, 7.8125, 6.25, 4.6875, 3.125, 1.5625, 0.5208] },
        'MAG': { start: 14, probabilities: [0.5208, 1.5625, 3.125, 4.6875, 6.25, 7.8125, 9.375, 10.9375, 11.4583, 10.9375, 9.375, 7.8125, 6.25, 4.6875, 3.125, 1.5625, 0.5208] },
        'DIV': { start: 14, probabilities: [0.5208, 1.5625, 3.125, 4.6875, 6.25, 7.8125, 9.375, 10.9375, 11.4583, 10.9375, 9.375, 7.8125, 6.25, 4.6875, 3.125, 1.5625, 0.5208] },
        'ACC': { start: 14, probabilities: [0.5208, 1.5625, 3.125, 4.6875, 6.25, 7.8125, 9.375, 10.9375, 11.4583, 10.9375, 9.375, 7.8125, 6.25, 4.6875, 3.125, 1.5625, 0.5208] },
        'EVA': { start: 14, probabilities: [0.5208, 1.5625, 3.125, 4.6875, 6.25, 7.8125, 9.375, 10.9375, 11.4583, 10.9375, 9.375, 7.8125, 6.25, 4.6875, 3.125, 1.5625, 0.5208] },
        'RES': { start: 14, probabilities: [0.5208, 1.5625, 3.125, 4.6875, 6.25, 7.8125, 9.375, 10.9375, 11.4583, 10.9375, 9.375, 7.8125, 6.25, 4.6875, 3.125, 1.5625, 0.5208] },
        'DEF': { start: 14, probabilities: [0.5208, 1.5625, 3.125, 4.6875, 6.25, 7.8125, 9.375, 10.9375, 11.4583, 10.9375, 9.375, 7.8125, 6.25, 4.6875, 3.125, 1.5625, 0.5208] },
        'MDEF': { start: 14, probabilities: [0.5208, 1.5625, 3.125, 4.6875, 6.25, 7.8125, 9.375, 10.9375, 11.4583, 10.9375, 9.375, 7.8125, 6.25, 4.6875, 3.125, 1.5625, 0.5208] },
        'ASPD': { start: 8, probabilities: [2.0833, 6.25, 12.5, 18.75, 20.8333, 18.75, 12.5, 6.25, 2.0833] },
        'SUR': { start: 6, probabilities: [5.5556, 16.6667, 27.7778, 27.7778, 16.6667, 5.5556] },
    },
    5: {
        'ATK%': { start: 18, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'MAG%': { start: 18, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'DIV%': { start: 18, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'ACC%': { start: 18, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'EVA%': { start: 18, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'RES%': { start: 18, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'DEF%': { start: 18, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'MDEF%': { start: 18, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'ASPD%': { start: 15, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'ATK': { start: 17, probabilities: [0.3333, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 9.3333, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 0.3333] },
        'MAG': { start: 17, probabilities: [0.3333, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 9.3333, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 0.3333] },
        'DIV': { start: 17, probabilities: [0.3333, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 9.3333, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 0.3333] },
        'ACC': { start: 17, probabilities: [0.3333, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 9.3333, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 0.3333] },
        'EVA': { start: 17, probabilities: [0.3333, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 9.3333, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 0.3333] },
        'RES': { start: 17, probabilities: [0.3333, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 9.3333, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 0.3333] },
        'DEF': { start: 17, probabilities: [0.3333, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 9.3333, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 0.3333] },
        'MDEF': { start: 17, probabilities: [0.3333, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 9.3333, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 0.3333] },
        'ASPD': { start: 10, probabilities: [1.3333, 4.0, 8.0, 12.0, 16.0, 17.3333, 16.0, 12.0, 8.0, 4.0, 1.3333] },
        'SUR': { start: 7, probabilities: [3.125, 9.375, 15.625, 21.875, 21.875, 15.625, 9.375, 3.125] },
    },
};

const FULL_RANK_6_TWO_HANDED: MagnitudeData = {
    1: {
        'ATK%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'MAG%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'DIV%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'ACC%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'EVA%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'RES%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'DEF%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'MDEF%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'ASPD%': { start: 3, probabilities: [50.0, 50.0] },
        'ATK': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'MAG': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'DIV': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'ACC': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'EVA': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'RES': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'DEF': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'MDEF': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'ASPD': { start: 3, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'SUR': { start: 3, probabilities: [50.0, 50.0] },
    },
    2: {
        'ATK%': { start: 5, probabilities: [4.1667, 12.5, 16.6667, 16.6667, 16.6667, 16.6667, 12.5, 4.1667] },
        'MAG%': { start: 5, probabilities: [4.1667, 12.5, 16.6667, 16.6667, 16.6667, 16.6667, 12.5, 4.1667] },
        'DIV%': { start: 5, probabilities: [4.1667, 12.5, 16.6667, 16.6667, 16.6667, 16.6667, 12.5, 4.1667] },
        'ACC%': { start: 5, probabilities: [4.1667, 12.5, 16.6667, 16.6667, 16.6667, 16.6667, 12.5, 4.1667] },
        'EVA%': { start: 5, probabilities: [4.1667, 12.5, 16.6667, 16.6667, 16.6667, 16.6667, 12.5, 4.1667] },
        'RES%': { start: 5, probabilities: [4.1667, 12.5, 16.6667, 16.6667, 16.6667, 16.6667, 12.5, 4.1667] },
        'DEF%': { start: 5, probabilities: [4.1667, 12.5, 16.6667, 16.6667, 16.6667, 16.6667, 12.5, 4.1667] },
        'MDEF%': { start: 5, probabilities: [4.1667, 12.5, 16.6667, 16.6667, 16.6667, 16.6667, 12.5, 4.1667] },
        'ASPD%': { start: 4, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'ATK': { start: 7, probabilities: [0.5556, 1.6667, 3.3333, 5.5556, 8.3333, 11.1111, 12.7778, 13.3333, 12.7778, 11.1111, 8.3333, 5.5556, 3.3333, 1.6667, 0.5556] },
        'MAG': { start: 7, probabilities: [0.5556, 1.6667, 3.3333, 5.5556, 8.3333, 11.1111, 12.7778, 13.3333, 12.7778, 11.1111, 8.3333, 5.5556, 3.3333, 1.6667, 0.5556] },
        'DIV': { start: 7, probabilities: [0.5556, 1.6667, 3.3333, 5.5556, 8.3333, 11.1111, 12.7778, 13.3333, 12.7778, 11.1111, 8.3333, 5.5556, 3.3333, 1.6667, 0.5556] },
        'ACC': { start: 7, probabilities: [0.5556, 1.6667, 3.3333, 5.5556, 8.3333, 11.1111, 12.7778, 13.3333, 12.7778, 11.1111, 8.3333, 5.5556, 3.3333, 1.6667, 0.5556] },
        'EVA': { start: 7, probabilities: [0.5556, 1.6667, 3.3333, 5.5556, 8.3333, 11.1111, 12.7778, 13.3333, 12.7778, 11.1111, 8.3333, 5.5556, 3.3333, 1.6667, 0.5556] },
        'RES': { start: 7, probabilities: [0.5556, 1.6667, 3.3333, 5.5556, 8.3333, 11.1111, 12.7778, 13.3333, 12.7778, 11.1111, 8.3333, 5.5556, 3.3333, 1.6667, 0.5556] },
        'DEF': { start: 7, probabilities: [0.5556, 1.6667, 3.3333, 5.5556, 8.3333, 11.1111, 12.7778, 13.3333, 12.7778, 11.1111, 8.3333, 5.5556, 3.3333, 1.6667, 0.5556] },
        'MDEF': { start: 7, probabilities: [0.5556, 1.6667, 3.3333, 5.5556, 8.3333, 11.1111, 12.7778, 13.3333, 12.7778, 11.1111, 8.3333, 5.5556, 3.3333, 1.6667, 0.5556] },
        'ASPD': { start: 4, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'SUR': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
    },
    3: {
        'ATK%': { start: 9, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'MAG%': { start: 9, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'DIV%': { start: 9, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'ACC%': { start: 9, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'EVA%': { start: 9, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'RES%': { start: 9, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'DEF%': { start: 9, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'MDEF%': { start: 9, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'ASPD%': { start: 8, probabilities: [2.2222, 6.6667, 13.3333, 17.7778, 20.0, 17.7778, 13.3333, 6.6667, 2.2222] },
        'ATK': { start: 9, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'MAG': { start: 9, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'DIV': { start: 9, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'ACC': { start: 9, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'EVA': { start: 9, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'RES': { start: 9, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'DEF': { start: 9, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'MDEF': { start: 9, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'ASPD': { start: 6, probabilities: [1.25, 3.75, 7.5, 12.5, 16.25, 17.5, 16.25, 12.5, 7.5, 3.75, 1.25] },
        'SUR': { start: 5, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
    },
    4: {
        'ATK%': { start: 15, probabilities: [2.7778, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 2.7778] },
        'MAG%': { start: 15, probabilities: [2.7778, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 2.7778] },
        'DIV%': { start: 15, probabilities: [2.7778, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 2.7778] },
        'ACC%': { start: 15, probabilities: [2.7778, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 2.7778] },
        'EVA%': { start: 15, probabilities: [2.7778, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 2.7778] },
        'RES%': { start: 15, probabilities: [2.7778, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 2.7778] },
        'DEF%': { start: 15, probabilities: [2.7778, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 2.7778] },
        'MDEF%': { start: 15, probabilities: [2.7778, 8.3333, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 11.1111, 8.3333, 2.7778] },
        'ASPD%': { start: 12, probabilities: [3.5714, 10.7143, 14.2857, 14.2857, 14.2857, 14.2857, 14.2857, 10.7143, 3.5714] },
        'ATK': { start: 14, probabilities: [0.1377, 0.4132, 0.8264, 1.3774, 2.0661, 2.8926, 3.719, 4.5455, 5.3719, 6.1983, 7.0248, 7.5758, 7.8512, 7.8512, 7.5758, 7.0248, 6.1983, 5.3719, 4.5455, 3.719, 2.8926, 2.0661, 1.3774, 0.8264, 0.4132, 0.1377] },
        'MAG': { start: 14, probabilities: [0.1377, 0.4132, 0.8264, 1.3774, 2.0661, 2.8926, 3.719, 4.5455, 5.3719, 6.1983, 7.0248, 7.5758, 7.8512, 7.8512, 7.5758, 7.0248, 6.1983, 5.3719, 4.5455, 3.719, 2.8926, 2.0661, 1.3774, 0.8264, 0.4132, 0.1377] },
        'DIV': { start: 14, probabilities: [0.1377, 0.4132, 0.8264, 1.3774, 2.0661, 2.8926, 3.719, 4.5455, 5.3719, 6.1983, 7.0248, 7.5758, 7.8512, 7.8512, 7.5758, 7.0248, 6.1983, 5.3719, 4.5455, 3.719, 2.8926, 2.0661, 1.3774, 0.8264, 0.4132, 0.1377] },
        'ACC': { start: 14, probabilities: [0.1377, 0.4132, 0.8264, 1.3774, 2.0661, 2.8926, 3.719, 4.5455, 5.3719, 6.1983, 7.0248, 7.5758, 7.8512, 7.8512, 7.5758, 7.0248, 6.1983, 5.3719, 4.5455, 3.719, 2.8926, 2.0661, 1.3774, 0.8264, 0.4132, 0.1377] },
        'EVA': { start: 14, probabilities: [0.1377, 0.4132, 0.8264, 1.3774, 2.0661, 2.8926, 3.719, 4.5455, 5.3719, 6.1983, 7.0248, 7.5758, 7.8512, 7.8512, 7.5758, 7.0248, 6.1983, 5.3719, 4.5455, 3.719, 2.8926, 2.0661, 1.3774, 0.8264, 0.4132, 0.1377] },
        'RES': { start: 14, probabilities: [0.1377, 0.4132, 0.8264, 1.3774, 2.0661, 2.8926, 3.719, 4.5455, 5.3719, 6.1983, 7.0248, 7.5758, 7.8512, 7.8512, 7.5758, 7.0248, 6.1983, 5.3719, 4.5455, 3.719, 2.8926, 2.0661, 1.3774, 0.8264, 0.4132, 0.1377] },
        'DEF': { start: 14, probabilities: [0.1377, 0.4132, 0.8264, 1.3774, 2.0661, 2.8926, 3.719, 4.5455, 5.3719, 6.1983, 7.0248, 7.5758, 7.8512, 7.8512, 7.5758, 7.0248, 6.1983, 5.3719, 4.5455, 3.719, 2.8926, 2.0661, 1.3774, 0.8264, 0.4132, 0.1377] },
        'MDEF': { start: 14, probabilities: [0.1377, 0.4132, 0.8264, 1.3774, 2.0661, 2.8926, 3.719, 4.5455, 5.3719, 6.1983, 7.0248, 7.5758, 7.8512, 7.8512, 7.5758, 7.0248, 6.1983, 5.3719, 4.5455, 3.719, 2.8926, 2.0661, 1.3774, 0.8264, 0.4132, 0.1377] },
        'ASPD': { start: 8, probabilities: [0.6667, 2.0, 4.0, 6.6667, 10.0, 12.6667, 14.0, 14.0, 12.6667, 10.0, 6.6667, 4.0, 2.0, 0.6667] },
        'SUR': { start: 6, probabilities: [1.5625, 4.6875, 9.375, 15.625, 18.75, 18.75, 15.625, 9.375, 4.6875, 1.5625] },
    },
    5: {
        'ATK%': { start: 18, probabilities: [1.1111, 3.3333, 6.6667, 8.8889, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.8889, 6.6667, 3.3333, 1.1111] },
        'MAG%': { start: 18, probabilities: [1.1111, 3.3333, 6.6667, 8.8889, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.8889, 6.6667, 3.3333, 1.1111] },
        'DIV%': { start: 18, probabilities: [1.1111, 3.3333, 6.6667, 8.8889, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.8889, 6.6667, 3.3333, 1.1111] },
        'ACC%': { start: 18, probabilities: [1.1111, 3.3333, 6.6667, 8.8889, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.8889, 6.6667, 3.3333, 1.1111] },
        'EVA%': { start: 18, probabilities: [1.1111, 3.3333, 6.6667, 8.8889, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.8889, 6.6667, 3.3333, 1.1111] },
        'RES%': { start: 18, probabilities: [1.1111, 3.3333, 6.6667, 8.8889, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.8889, 6.6667, 3.3333, 1.1111] },
        'DEF%': { start: 18, probabilities: [1.1111, 3.3333, 6.6667, 8.8889, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.8889, 6.6667, 3.3333, 1.1111] },
        'MDEF%': { start: 18, probabilities: [1.1111, 3.3333, 6.6667, 8.8889, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 8.8889, 6.6667, 3.3333, 1.1111] },
        'ASPD%': { start: 15, probabilities: [1.8519, 5.5556, 11.1111, 14.8148, 16.6667, 16.6667, 14.8148, 11.1111, 5.5556, 1.8519] },
        'ATK': { start: 17, probabilities: [0.0845, 0.2536, 0.5072, 0.8453, 1.268, 1.7751, 2.3669, 2.9586, 3.5503, 4.142, 4.7337, 5.3254, 5.9172, 6.3398, 6.5934, 6.6779, 6.5934, 6.3398, 5.9172, 5.3254, 4.7337, 4.142, 3.5503, 2.9586, 2.3669, 1.7751, 1.268, 0.8453, 0.5072, 0.2536, 0.0845] },
        'MAG': { start: 17, probabilities: [0.0845, 0.2536, 0.5072, 0.8453, 1.268, 1.7751, 2.3669, 2.9586, 3.5503, 4.142, 4.7337, 5.3254, 5.9172, 6.3398, 6.5934, 6.6779, 6.5934, 6.3398, 5.9172, 5.3254, 4.7337, 4.142, 3.5503, 2.9586, 2.3669, 1.7751, 1.268, 0.8453, 0.5072, 0.2536, 0.0845] },
        'DIV': { start: 17, probabilities: [0.0845, 0.2536, 0.5072, 0.8453, 1.268, 1.7751, 2.3669, 2.9586, 3.5503, 4.142, 4.7337, 5.3254, 5.9172, 6.3398, 6.5934, 6.6779, 6.5934, 6.3398, 5.9172, 5.3254, 4.7337, 4.142, 3.5503, 2.9586, 2.3669, 1.7751, 1.268, 0.8453, 0.5072, 0.2536, 0.0845] },
        'ACC': { start: 17, probabilities: [0.0845, 0.2536, 0.5072, 0.8453, 1.268, 1.7751, 2.3669, 2.9586, 3.5503, 4.142, 4.7337, 5.3254, 5.9172, 6.3398, 6.5934, 6.6779, 6.5934, 6.3398, 5.9172, 5.3254, 4.7337, 4.142, 3.5503, 2.9586, 2.3669, 1.7751, 1.268, 0.8453, 0.5072, 0.2536, 0.0845] },
        'EVA': { start: 17, probabilities: [0.0845, 0.2536, 0.5072, 0.8453, 1.268, 1.7751, 2.3669, 2.9586, 3.5503, 4.142, 4.7337, 5.3254, 5.9172, 6.3398, 6.5934, 6.6779, 6.5934, 6.3398, 5.9172, 5.3254, 4.7337, 4.142, 3.5503, 2.9586, 2.3669, 1.7751, 1.268, 0.8453, 0.5072, 0.2536, 0.0845] },
        'RES': { start: 17, probabilities: [0.0845, 0.2536, 0.5072, 0.8453, 1.268, 1.7751, 2.3669, 2.9586, 3.5503, 4.142, 4.7337, 5.3254, 5.9172, 6.3398, 6.5934, 6.6779, 6.5934, 6.3398, 5.9172, 5.3254, 4.7337, 4.142, 3.5503, 2.9586, 2.3669, 1.7751, 1.268, 0.8453, 0.5072, 0.2536, 0.0845] },
        'DEF': { start: 17, probabilities: [0.0845, 0.2536, 0.5072, 0.8453, 1.268, 1.7751, 2.3669, 2.9586, 3.5503, 4.142, 4.7337, 5.3254, 5.9172, 6.3398, 6.5934, 6.6779, 6.5934, 6.3398, 5.9172, 5.3254, 4.7337, 4.142, 3.5503, 2.9586, 2.3669, 1.7751, 1.268, 0.8453, 0.5072, 0.2536, 0.0845] },
        'MDEF': { start: 17, probabilities: [0.0845, 0.2536, 0.5072, 0.8453, 1.268, 1.7751, 2.3669, 2.9586, 3.5503, 4.142, 4.7337, 5.3254, 5.9172, 6.3398, 6.5934, 6.6779, 6.5934, 6.3398, 5.9172, 5.3254, 4.7337, 4.142, 3.5503, 2.9586, 2.3669, 1.7751, 1.268, 0.8453, 0.5072, 0.2536, 0.0845] },
        'ASPD': { start: 10, probabilities: [0.3401, 1.0204, 2.0408, 3.4014, 5.102, 7.1429, 9.1837, 10.5442, 11.2245, 11.2245, 10.5442, 9.1837, 7.1429, 5.102, 3.4014, 2.0408, 1.0204, 0.3401] },
        'SUR': { start: 7, probabilities: [1.0, 3.0, 6.0, 10.0, 14.0, 16.0, 16.0, 14.0, 10.0, 6.0, 3.0, 1.0] },
    },
};

const FULL_RANK_6_OTHER: MagnitudeData = {
    1: {
        'ATK%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'MAG%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'DIV%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'ACC%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'EVA%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'RES%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'DEF%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'MDEF%': { start: 3, probabilities: [25.0, 25.0, 25.0, 25.0] },
        'ASPD%': { start: 3, probabilities: [50.0, 50.0] },
        'ATK': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'MAG': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'DIV': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'ACC': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'EVA': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'RES': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'DEF': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'MDEF': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
        'ASPD': { start: 3, probabilities: [12.5, 37.5, 37.5, 12.5] },
        'SUR': { start: 3, probabilities: [50.0, 50.0] },
    },
    2: {
        'ATK%': { start: 5, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'MAG%': { start: 5, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'DIV%': { start: 5, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'ACC%': { start: 5, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'EVA%': { start: 5, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'RES%': { start: 5, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'DEF%': { start: 5, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'MDEF%': { start: 5, probabilities: [5.0, 15.0, 20.0, 20.0, 20.0, 15.0, 5.0] },
        'ASPD%': { start: 4, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'ATK': { start: 7, probabilities: [1.0, 3.0, 6.0, 10.0, 14.0, 16.0, 16.0, 14.0, 10.0, 6.0, 3.0, 1.0] },
        'MAG': { start: 7, probabilities: [1.0, 3.0, 6.0, 10.0, 14.0, 16.0, 16.0, 14.0, 10.0, 6.0, 3.0, 1.0] },
        'DIV': { start: 7, probabilities: [1.0, 3.0, 6.0, 10.0, 14.0, 16.0, 16.0, 14.0, 10.0, 6.0, 3.0, 1.0] },
        'ACC': { start: 7, probabilities: [1.0, 3.0, 6.0, 10.0, 14.0, 16.0, 16.0, 14.0, 10.0, 6.0, 3.0, 1.0] },
        'EVA': { start: 7, probabilities: [1.0, 3.0, 6.0, 10.0, 14.0, 16.0, 16.0, 14.0, 10.0, 6.0, 3.0, 1.0] },
        'RES': { start: 7, probabilities: [1.0, 3.0, 6.0, 10.0, 14.0, 16.0, 16.0, 14.0, 10.0, 6.0, 3.0, 1.0] },
        'DEF': { start: 7, probabilities: [1.0, 3.0, 6.0, 10.0, 14.0, 16.0, 16.0, 14.0, 10.0, 6.0, 3.0, 1.0] },
        'MDEF': { start: 7, probabilities: [1.0, 3.0, 6.0, 10.0, 14.0, 16.0, 16.0, 14.0, 10.0, 6.0, 3.0, 1.0] },
        'ASPD': { start: 4, probabilities: [6.25, 18.75, 25.0, 25.0, 18.75, 6.25] },
        'SUR': { start: 4, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
    },
    3: {
        'ATK%': { start: 9, probabilities: [1.5873, 4.7619, 9.5238, 12.6984, 14.2857, 14.2857, 14.2857, 12.6984, 9.5238, 4.7619, 1.5873] },
        'MAG%': { start: 9, probabilities: [1.5873, 4.7619, 9.5238, 12.6984, 14.2857, 14.2857, 14.2857, 12.6984, 9.5238, 4.7619, 1.5873] },
        'DIV%': { start: 9, probabilities: [1.5873, 4.7619, 9.5238, 12.6984, 14.2857, 14.2857, 14.2857, 12.6984, 9.5238, 4.7619, 1.5873] },
        'ACC%': { start: 9, probabilities: [1.5873, 4.7619, 9.5238, 12.6984, 14.2857, 14.2857, 14.2857, 12.6984, 9.5238, 4.7619, 1.5873] },
        'EVA%': { start: 9, probabilities: [1.5873, 4.7619, 9.5238, 12.6984, 14.2857, 14.2857, 14.2857, 12.6984, 9.5238, 4.7619, 1.5873] },
        'RES%': { start: 9, probabilities: [1.5873, 4.7619, 9.5238, 12.6984, 14.2857, 14.2857, 14.2857, 12.6984, 9.5238, 4.7619, 1.5873] },
        'DEF%': { start: 9, probabilities: [1.5873, 4.7619, 9.5238, 12.6984, 14.2857, 14.2857, 14.2857, 12.6984, 9.5238, 4.7619, 1.5873] },
        'MDEF%': { start: 9, probabilities: [1.5873, 4.7619, 9.5238, 12.6984, 14.2857, 14.2857, 14.2857, 12.6984, 9.5238, 4.7619, 1.5873] },
        'ASPD%': { start: 8, probabilities: [2.7778, 8.3333, 16.6667, 22.2222, 22.2222, 16.6667, 8.3333, 2.7778] },
        'ATK': { start: 9, probabilities: [0.3086, 0.9259, 1.8519, 3.0864, 4.321, 5.5556, 6.7901, 8.0247, 9.2593, 9.8765, 9.8765, 9.2593, 8.0247, 6.7901, 5.5556, 4.321, 3.0864, 1.8519, 0.9259, 0.3086] },
        'MAG': { start: 9, probabilities: [0.3086, 0.9259, 1.8519, 3.0864, 4.321, 5.5556, 6.7901, 8.0247, 9.2593, 9.8765, 9.8765, 9.2593, 8.0247, 6.7901, 5.5556, 4.321, 3.0864, 1.8519, 0.9259, 0.3086] },
        'DIV': { start: 9, probabilities: [0.3086, 0.9259, 1.8519, 3.0864, 4.321, 5.5556, 6.7901, 8.0247, 9.2593, 9.8765, 9.8765, 9.2593, 8.0247, 6.7901, 5.5556, 4.321, 3.0864, 1.8519, 0.9259, 0.3086] },
        'ACC': { start: 9, probabilities: [0.3086, 0.9259, 1.8519, 3.0864, 4.321, 5.5556, 6.7901, 8.0247, 9.2593, 9.8765, 9.8765, 9.2593, 8.0247, 6.7901, 5.5556, 4.321, 3.0864, 1.8519, 0.9259, 0.3086] },
        'EVA': { start: 9, probabilities: [0.3086, 0.9259, 1.8519, 3.0864, 4.321, 5.5556, 6.7901, 8.0247, 9.2593, 9.8765, 9.8765, 9.2593, 8.0247, 6.7901, 5.5556, 4.321, 3.0864, 1.8519, 0.9259, 0.3086] },
        'RES': { start: 9, probabilities: [0.3086, 0.9259, 1.8519, 3.0864, 4.321, 5.5556, 6.7901, 8.0247, 9.2593, 9.8765, 9.8765, 9.2593, 8.0247, 6.7901, 5.5556, 4.321, 3.0864, 1.8519, 0.9259, 0.3086] },
        'DEF': { start: 9, probabilities: [0.3086, 0.9259, 1.8519, 3.0864, 4.321, 5.5556, 6.7901, 8.0247, 9.2593, 9.8765, 9.8765, 9.2593, 8.0247, 6.7901, 5.5556, 4.321, 3.0864, 1.8519, 0.9259, 0.3086] },
        'MDEF': { start: 9, probabilities: [0.3086, 0.9259, 1.8519, 3.0864, 4.321, 5.5556, 6.7901, 8.0247, 9.2593, 9.8765, 9.8765, 9.2593, 8.0247, 6.7901, 5.5556, 4.321, 3.0864, 1.8519, 0.9259, 0.3086] },
        'ASPD': { start: 6, probabilities: [1.5625, 4.6875, 9.375, 15.625, 18.75, 18.75, 15.625, 9.375, 4.6875, 1.5625] },
        'SUR': { start: 5, probabilities: [8.3333, 25.0, 33.3333, 25.0, 8.3333] },
    },
    4: {
        'ATK%': { start: 15, probabilities: [3.125, 9.375, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 9.375, 3.125] },
        'MAG%': { start: 15, probabilities: [3.125, 9.375, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 9.375, 3.125] },
        'DIV%': { start: 15, probabilities: [3.125, 9.375, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 9.375, 3.125] },
        'ACC%': { start: 15, probabilities: [3.125, 9.375, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 9.375, 3.125] },
        'EVA%': { start: 15, probabilities: [3.125, 9.375, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 9.375, 3.125] },
        'RES%': { start: 15, probabilities: [3.125, 9.375, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 9.375, 3.125] },
        'DEF%': { start: 15, probabilities: [3.125, 9.375, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 9.375, 3.125] },
        'MDEF%': { start: 15, probabilities: [3.125, 9.375, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 9.375, 3.125] },
        'ASPD%': { start: 12, probabilities: [4.1667, 12.5, 16.6667, 16.6667, 16.6667, 16.6667, 12.5, 4.1667] },
        'ATK': { start: 14, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'MAG': { start: 14, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'DIV': { start: 14, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'ACC': { start: 14, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'EVA': { start: 14, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'RES': { start: 14, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'DEF': { start: 14, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'MDEF': { start: 14, probabilities: [0.2, 0.6, 1.2, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 8.6, 8.8, 8.6, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.2, 0.6, 0.2] },
        'ASPD': { start: 8, probabilities: [0.8, 2.4, 4.8, 8.0, 12.0, 14.4, 15.2, 14.4, 12.0, 8.0, 4.8, 2.4, 0.8] },
        'SUR': { start: 6, probabilities: [2.0833, 6.25, 12.5, 18.75, 20.8333, 18.75, 12.5, 6.25, 2.0833] },
    },
    5: {
        'ATK%': { start: 18, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'MAG%': { start: 18, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'DIV%': { start: 18, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'ACC%': { start: 18, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'EVA%': { start: 18, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'RES%': { start: 18, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'DEF%': { start: 18, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'MDEF%': { start: 18, probabilities: [1.3889, 4.1667, 8.3333, 11.1111, 12.5, 12.5, 12.5, 12.5, 11.1111, 8.3333, 4.1667, 1.3889] },
        'ASPD%': { start: 15, probabilities: [2.2222, 6.6667, 13.3333, 17.7778, 20.0, 17.7778, 13.3333, 6.6667, 2.2222] },
        'ATK': { start: 17, probabilities: [0.1157, 0.3472, 0.6944, 1.1574, 1.7361, 2.4306, 3.125, 3.8194, 4.5139, 5.2083, 5.9028, 6.5972, 7.0602, 7.2917, 7.2917, 7.0602, 6.5972, 5.9028, 5.2083, 4.5139, 3.8194, 3.125, 2.4306, 1.7361, 1.1574, 0.6944, 0.3472, 0.1157] },
        'MAG': { start: 17, probabilities: [0.1157, 0.3472, 0.6944, 1.1574, 1.7361, 2.4306, 3.125, 3.8194, 4.5139, 5.2083, 5.9028, 6.5972, 7.0602, 7.2917, 7.2917, 7.0602, 6.5972, 5.9028, 5.2083, 4.5139, 3.8194, 3.125, 2.4306, 1.7361, 1.1574, 0.6944, 0.3472, 0.1157] },
        'DIV': { start: 17, probabilities: [0.1157, 0.3472, 0.6944, 1.1574, 1.7361, 2.4306, 3.125, 3.8194, 4.5139, 5.2083, 5.9028, 6.5972, 7.0602, 7.2917, 7.2917, 7.0602, 6.5972, 5.9028, 5.2083, 4.5139, 3.8194, 3.125, 2.4306, 1.7361, 1.1574, 0.6944, 0.3472, 0.1157] },
        'ACC': { start: 17, probabilities: [0.1157, 0.3472, 0.6944, 1.1574, 1.7361, 2.4306, 3.125, 3.8194, 4.5139, 5.2083, 5.9028, 6.5972, 7.0602, 7.2917, 7.2917, 7.0602, 6.5972, 5.9028, 5.2083, 4.5139, 3.8194, 3.125, 2.4306, 1.7361, 1.1574, 0.6944, 0.3472, 0.1157] },
        'EVA': { start: 17, probabilities: [0.1157, 0.3472, 0.6944, 1.1574, 1.7361, 2.4306, 3.125, 3.8194, 4.5139, 5.2083, 5.9028, 6.5972, 7.0602, 7.2917, 7.2917, 7.0602, 6.5972, 5.9028, 5.2083, 4.5139, 3.8194, 3.125, 2.4306, 1.7361, 1.1574, 0.6944, 0.3472, 0.1157] },
        'RES': { start: 17, probabilities: [0.1157, 0.3472, 0.6944, 1.1574, 1.7361, 2.4306, 3.125, 3.8194, 4.5139, 5.2083, 5.9028, 6.5972, 7.0602, 7.2917, 7.2917, 7.0602, 6.5972, 5.9028, 5.2083, 4.5139, 3.8194, 3.125, 2.4306, 1.7361, 1.1574, 0.6944, 0.3472, 0.1157] },
        'DEF': { start: 17, probabilities: [0.1157, 0.3472, 0.6944, 1.1574, 1.7361, 2.4306, 3.125, 3.8194, 4.5139, 5.2083, 5.9028, 6.5972, 7.0602, 7.2917, 7.2917, 7.0602, 6.5972, 5.9028, 5.2083, 4.5139, 3.8194, 3.125, 2.4306, 1.7361, 1.1574, 0.6944, 0.3472, 0.1157] },
        'MDEF': { start: 17, probabilities: [0.1157, 0.3472, 0.6944, 1.1574, 1.7361, 2.4306, 3.125, 3.8194, 4.5139, 5.2083, 5.9028, 6.5972, 7.0602, 7.2917, 7.2917, 7.0602, 6.5972, 5.9028, 5.2083, 4.5139, 3.8194, 3.125, 2.4306, 1.7361, 1.1574, 0.6944, 0.3472, 0.1157] },
        'ASPD': { start: 10, probabilities: [0.5556, 1.6667, 3.3333, 5.5556, 8.3333, 11.1111, 12.7778, 13.3333, 12.7778, 11.1111, 8.3333, 5.5556, 3.3333, 1.6667, 0.5556] },
        'SUR': { start: 7, probabilities: [1.3333, 4.0, 8.0, 12.0, 16.0, 17.3333, 16.0, 12.0, 8.0, 4.0, 1.3333] },
    },
};

const LESSER_DATA: Record<EquipmentRankCategory, MagnitudeData> = {
    rank1to5: LESSER_RANK_1_TO_5,
    rank6TwoHanded: LESSER_RANK_6_TWO_HANDED,
    rank6Other: LESSER_RANK_6_OTHER,
};

const FULL_DATA: Record<EquipmentRankCategory, MagnitudeData> = {
    rank1to5: FULL_RANK_1_TO_5,
    rank6TwoHanded: FULL_RANK_6_TWO_HANDED,
    rank6Other: FULL_RANK_6_OTHER,
};

const QUALITIES: Quality[] = [1, 2, 3, 4, 5];

type QualitySelection = Quality | 'all';

function getVisibleTiers(data: MagnitudeData, selectedQuality: QualitySelection): number[] {
    const qualities = selectedQuality === 'all' ? QUALITIES : [selectedQuality];
    const tierSet = new Set<number>();

    for (const quality of qualities) {
        for (const stat of Object.values(data[quality])) {
            for (let i = 0; i < stat.probabilities.length; i++) {
                tierSet.add(stat.start + i);
            }
        }
    }

    return Array.from(tierSet).sort((a, b) => a - b);
}

function formatProbability(prob: number): string {
    if (prob % 1 === 0) {
        return prob.toString();
    }
    // Show up to 2 decimal places, but strip trailing zeros
    return prob.toFixed(2).replace(/\.?0+$/, '');
}

export function FullAlterationStone() {
    const [stoneType, setStoneType] = useState<StoneType>('full');
    const [selectedCategory, setSelectedCategory] = useState<EquipmentRankCategory>('rank1to5');
    const [selectedQuality, setSelectedQuality] = useState<QualitySelection>('all');

    const dataSource = stoneType === 'lesser' ? LESSER_DATA : FULL_DATA;
    const data = dataSource[selectedCategory];
    const visibleTiers = getVisibleTiers(data, selectedQuality);
    const qualitiesToShow = selectedQuality === 'all' ? QUALITIES : [selectedQuality];

    return (
        <div className="ag-magnitude">
            <p className="ag-magnitude-description">
                Blessing value distribution when using Full Alteration Stones on Grade 2+ equipment.
                Full stones provide boosted values; Lesser stones do not.
            </p>

            <div className="ag-magnitude-selector">
                <button
                    className={`ag-magnitude-btn ${stoneType === 'lesser' ? 'active' : ''}`}
                    onClick={() => setStoneType('lesser')}
                >
                    Lesser
                </button>
                <button
                    className={`ag-magnitude-btn ${stoneType === 'full' ? 'active' : ''}`}
                    onClick={() => setStoneType('full')}
                >
                    Full
                </button>
            </div>

            <div className="ag-magnitude-selector">
                {RANK_CATEGORIES.map((cat) => (
                    <button
                        key={cat.id}
                        className={`ag-magnitude-btn ${selectedCategory === cat.id ? 'active' : ''}`}
                        onClick={() => setSelectedCategory(cat.id)}
                        title={cat.description}
                    >
                        {cat.label}
                    </button>
                ))}
            </div>

            <div className="ag-magnitude-quality-selector">
                <button
                    className={`ag-magnitude-quality-btn ${selectedQuality === 'all' ? 'active' : ''}`}
                    onClick={() => setSelectedQuality('all')}
                >
                    All
                </button>
                {QUALITIES.map((quality) => (
                    <button
                        key={quality}
                        className={`ag-magnitude-quality-btn ${selectedQuality === quality ? 'active' : ''}`}
                        onClick={() => setSelectedQuality(quality)}
                    >
                        {'★'.repeat(quality)}
                    </button>
                ))}
            </div>

            <div className="ag-magnitude-table-wrapper">
                <table className="ag-magnitude-table">
                    <thead>
                        <tr>
                            <th className="ag-magnitude-th-quality">Quality</th>
                            <th className="ag-magnitude-th-stat">Stat</th>
                            {visibleTiers.map((tier) => (
                                <th key={tier} className="ag-magnitude-th-tier">{tier}</th>
                            ))}
                        </tr>
                    </thead>
                    <tbody>
                        {qualitiesToShow.map((quality) => (
                            STATS.map((stat, statIdx) => {
                                const range = data[quality][stat.id];
                                const isFirstStat = statIdx === 0;
                                const isLastStat = statIdx === STATS.length - 1;

                                return (
                                    <tr
                                        key={`${quality}-${stat.id}`}
                                        className={isLastStat ? 'ag-magnitude-row-last' : ''}
                                    >
                                        {isFirstStat && (
                                            <td
                                                className="ag-magnitude-quality"
                                                rowSpan={STATS.length}
                                            >
                                                {'★'.repeat(quality)}
                                            </td>
                                        )}
                                        <td className="ag-magnitude-stat">{stat.label}</td>
                                        {visibleTiers.map((tier) => {
                                            const valueIndex = tier - range.start;
                                            const isInRange = valueIndex >= 0 && valueIndex < range.probabilities.length;
                                            const probability = isInRange ? range.probabilities[valueIndex] : null;
                                            return (
                                                <td
                                                    key={tier}
                                                    className={`ag-magnitude-cell ${isInRange ? 'ag-magnitude-cell-active' : ''}`}
                                                >
                                                    {probability !== null ? `${formatProbability(probability)}%` : '-'}
                                                </td>
                                            );
                                        })}
                                    </tr>
                                );
                            })
                        ))}
                    </tbody>
                </table>
            </div>
        </div>
    );
}
